<ion-card class="cardRegister">
  <ion-card-header class="card-header" style="text-align: center;">
    <ion-card-title style="width: 100%;">Registro</ion-card-title>
  </ion-card-header>

  <form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)">
    
    <!-- Nombre de usuario -->
    <ion-item>
      <ion-label position="floating" color="tertiary">Nombre de usuario</ion-label>
      <ion-input 
        type="text" 
        required 
        [(ngModel)]="registerData.username" 
        name="username">
      </ion-input>
    </ion-item>
    <div *ngIf="registerForm.submitted && registerForm.controls['username'].invalid" style="color: red; padding-left: 16px;">
      <small>Nombre de usuario es requerido.</small>
    </div>

    <!-- Correo electrónico -->
    <ion-item>
      <ion-label position="floating" color="tertiary">Email</ion-label>
      <ion-input 
        type="email" 
        required 
        email
        [(ngModel)]="registerData.email" 
        name="email">
      </ion-input>
    </ion-item>
    <div *ngIf="registerForm.submitted && registerForm.controls['email'].invalid" style="color: red; padding-left: 16px;">
      <small *ngIf="registerForm.controls['email'].errors?.['required']">Email es requerido.</small>
      <small *ngIf="registerForm.controls['email'].errors?.['email']">Email debe ser válido.</small>
    </div>

    <!-- Contraseña -->
    <ion-item>
      <ion-label position="floating" color="tertiary">Contraseña</ion-label>
      <ion-input 
        type="password" 
        required 
        minlength="6"
        [(ngModel)]="registerData.password" 
        name="password">
        <ion-input-password-toggle slot="end"></ion-input-password-toggle>
      </ion-input>
    </ion-item>
    <div *ngIf="registerForm.submitted && registerForm.controls['password'].invalid" style="color: red; padding-left: 16px;">
      <small *ngIf="registerForm.controls['password'].errors?.['required']">La contraseña es requerida.</small>
      <small *ngIf="registerForm.controls['password'].errors?.['minlength']">La contraseña debe tener al menos 6 caracteres.</small>
    </div>

    <!-- Confirmación de contraseña -->
    <ion-item>
      <ion-label position="floating" color="tertiary">Confirmar contraseña</ion-label>
      <ion-input 
        type="password" 
        required 
        [(ngModel)]="registerData.confirmPassword" 
        name="confirmPassword">
        <ion-input-password-toggle slot="end"></ion-input-password-toggle>
      </ion-input>
    </ion-item>
    <div *ngIf="registerForm.submitted && registerForm.controls['confirmPassword'].invalid" style="color: red; padding-left: 16px;">
      <small>La confirmación de la contraseña es requerida.</small>
      <small *ngIf="registerData.password !== registerData.confirmPassword">Las contraseñas no coinciden.</small>
    </div>

    <!-- Nombre -->
    <ion-item>
      <ion-label position="floating" color="tertiary">Nombre</ion-label>
      <ion-input 
        type="text" 
        required 
        [(ngModel)]="registerData.firstName" 
        name="firstName">
      </ion-input>
    </ion-item>
    <div *ngIf="registerForm.submitted && registerForm.controls['firstName'].invalid" style="color: red; padding-left: 16px;">
      <small>El nombre es requerido.</small>
    </div>

    <!-- Apellido -->
    <ion-item>
      <ion-label position="floating" color="tertiary">Apellido</ion-label>
      <ion-input 
        type="text" 
        required 
        [(ngModel)]="registerData.lastName" 
        name="lastName">
      </ion-input>
    </ion-item>
    <div *ngIf="registerForm.submitted && registerForm.controls['lastName'].invalid" style="color: red; padding-left: 16px;">
      <small>El apellido es requerido.</small>
    </div>

    <!-- Teléfono -->
    <ion-item>
      <ion-label position="floating" color="tertiary">Teléfono</ion-label>
      <ion-input 
        type="tel" 
        required 
        [(ngModel)]="registerData.phone" 
        name="phone">
      </ion-input>
    </ion-item>
    <div *ngIf="registerForm.submitted && registerForm.controls['phone'].invalid" style="color: red; padding-left: 16px;">
      <small>El teléfono es requerido.</small>
    </div>

  
  </form>

  <ion-button  [routerLink]="['/login']" expand="block" >Registrarse</ion-button>

</ion-card>
